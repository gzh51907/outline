<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title></title>
    <script src="js/mui.min.js"></script>
    <link href="css/mui.min.css" rel="stylesheet"/>
    <style>
    	.container{padding:15px;}
    	.container h1{margin:10px 0;font-size: 24px;}
    </style>
</head>
<body>
	<div class="container">
		<h1>H5+测试</h1>
		<ul class="mui-table-view">
		    <li class="mui-table-view-cell mui-media btnCamera">
		            <i class="mui-media-object mui-pull-left mui-icon mui-icon-camera"></i>
		            <div class="mui-media-body">
		                	<h4>摄像头</h4>
		                <p class='mui-ellipsis'>拍照、录像、扫码</p>
		            </div>
		    </li>
		    <li class="mui-table-view-cell mui-media">
		            <i class="mui-media-object mui-pull-left mui-icon mui-icon-camera"></i>
		            <div class="mui-media-body">
		                	<h4>摄像头</h4>
		                <p class='mui-ellipsis'>拍照、录像、扫码</p>
		            </div>
		    </li>
		    <li class="mui-table-view-cell mui-media">
		            <i class="mui-media-object mui-pull-left mui-icon mui-icon-camera"></i>
		            <div class="mui-media-body">
		                	<h4>摄像头</h4>
		                <p class='mui-ellipsis'>拍照、录像、扫码</p>
		            </div>
		    </li>
		    
	    </ul>
	    <div class="result">展示区域</div>
    </div>
	<script type="text/javascript" charset="utf-8">
      	mui.init();
      	document.addEventListener('plusready',()=>{
      		let btnCamera = document.querySelector('.btnCamera');
      		let result = document.querySelector('.result');
	      	btnCamera.onclick = ()=>{
	      		let camera = plus.camera;
	      		
	      		let cmr = camera.getCamera();console.log(JSON.stringify(cmr))
	      		
	      		cmr.captureImage((path)=>{
	      			console.log('path:'+path)
	      			let realPath = plus.io.convertLocalFileSystemURL(path);
	      			console.log('realPath:'+realPath)
	      			let img = document.createElement('img');
	      			img.src = realPath;
	      			result.appendChild(img)
	      		});
	      		
	      		
	      	}
      	})
//    	mui.ready(()=>{
//    		
//    	})
      	
    </script>
</body>
</html>